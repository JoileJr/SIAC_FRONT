<p-dialog header="Cadastro de Laboratório" [modal]="true" [(visible)]="visible" (onHide)="closeDialog.emit()">
    <form [formGroup]="laboratorioForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <div>
                <label for="nome">Nome</label>
                <input
                    type="text"
                    pInputText
                    class="input"
                    formControlName="nome"
                    placeholder="Nome do Laboratório"
                    required />
                <div *ngIf="laboratorioForm.get('nome')?.invalid && laboratorioForm.get('nome')?.touched" class="error">
                    O campo Nome é obrigatório.
                </div>
            </div>
            <div>
                <label for="cnpj">CNPJ</label>
                <input id="cnpj" type="text" pInputText formControlName="cnpj" placeholder="CNPJ" />
                <div *ngIf="laboratorioForm.get('cnpj')?.invalid && laboratorioForm.get('cnpj')?.touched" class="error">
                    O campo CNPJ é obrigatório.
                </div>
            </div>
        </div>

        <div class="form-group">
            <div>
                <label for="telefone">Telefone</label>
                <input id="telefone" type="text" pInputText formControlName="telefone" placeholder="Telefone" />
                <div *ngIf="laboratorioForm.get('telefone')?.invalid && laboratorioForm.get('telefone')?.touched" class="error">
                    O campo Telefone é obrigatório.
                </div>
            </div>
            <div>
                <label for="email">E-mail</label>
                <input id="email" type="email" pInputText formControlName="email" placeholder="Email" />
                <div *ngIf="laboratorioForm.get('email')?.invalid && laboratorioForm.get('email')?.touched" class="error">
                    O campo Email é obrigatório e deve ser válido.
                </div>
            </div>
        </div>

        <div class="form-group">
            <div>
                <label for="razaoSocial">Razão Social</label>
                <input id="razaoSocial" type="text" pInputText formControlName="razaoSocial" placeholder="Razão Social" />
                <div *ngIf="laboratorioForm.get('razaoSocial')?.invalid && laboratorioForm.get('razaoSocial')?.touched" class="error">
                    O campo Razão Social é obrigatório.
                </div>
            </div>
        </div>

        <!-- Endereço Section -->
        <h3>Endereço</h3>
        <div class="form-group">
            <div>
                <label for="cep">CEP</label>
                <input id="cep" type="text" pInputText formControlName="cep" placeholder="CEP" />
                <div *ngIf="laboratorioForm.get('endereco.cep')?.invalid && laboratorioForm.get('endereco.cep')?.touched" class="error">
                    O campo CEP é obrigatório.
                </div>
            </div>
            <div>
                <label for="estado">Estado</label>
                <input id="estado" type="text" pInputText formControlName="estado" placeholder="Estado" />
                <div *ngIf="laboratorioForm.get('endereco.estado')?.invalid && laboratorioForm.get('endereco.estado')?.touched" class="error">
                    O campo Estado é obrigatório.
                </div>
            </div>
        </div>

        <div class="form-group">
            <div>
                <label for="cidade">Cidade</label>
                <input id="cidade" type="text" pInputText formControlName="cidade" placeholder="Cidade" />
                <div *ngIf="laboratorioForm.get('endereco.cidade')?.invalid && laboratorioForm.get('endereco.cidade')?.touched" class="error">
                    O campo Cidade é obrigatório.
                </div>
            </div>
            <div>
                <label for="bairro">Bairro</label>
                <input id="bairro" type="text" pInputText formControlName="bairro" placeholder="Bairro" />
                <div *ngIf="laboratorioForm.get('endereco.bairro')?.invalid && laboratorioForm.get('endereco.bairro')?.touched" class="error">
                    O campo Bairro é obrigatório.
                </div>
            </div>
        </div>

        <div class="form-group">
            <div>
                <label for="logradouro">Logradouro</label>
                <input id="logradouro" type="text" pInputText formControlName="logradouro" placeholder="Logradouro" />
                <div *ngIf="laboratorioForm.get('endereco.logradouro')?.invalid && laboratorioForm.get('endereco.logradouro')?.touched" class="error">
                    O campo Logradouro é obrigatório.
                </div>
            </div>
            <div>
                <label for="numero">Número</label>
                <input id="numero" type="text" pInputText formControlName="numero" placeholder="Número" />
                <div *ngIf="laboratorioForm.get('endereco.numero')?.invalid && laboratorioForm.get('endereco.numero')?.touched" class="error">
                    O campo Número é obrigatório.
                </div>
            </div>
        </div>

        <div class="form-group">
            <div>
                <label for="complemento">Complemento</label>
                <input id="complemento" type="text" pInputText formControlName="complemento" placeholder="Complemento" />
            </div>
        </div>

        <button type="submit" pButton label="Cadastrar" [disabled]="laboratorioForm.invalid"></button>
      </form>
</p-dialog>
